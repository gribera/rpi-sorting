<!DOCTYPE html>
<html>
	<head>
		<title>Tablero</title>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css" integrity="sha512-3q8fi8M0VS+X/3n64Ndpp6Bit7oXSiyCnzmlx6IDBLGlY5euFySyJ46RUlqIVs0DPCGOypqP8IRk/EyPvU28mQ==" crossorigin="anonymous" />
		<!-- <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles.css', v=0.01) }}" /> -->
		<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js" integrity="sha512-f0VlzJbcEB6KiW8ZVtL+5HWPDyW1+nJEjguZ5IVnSQkvZbwBt2RfCBY0CBO1PsMAqxxrG4Di6TfsCPP3ZRwKpA==" crossorigin="anonymous"></script>
		<script type=text/javascript>
	    $(document).ready(function() {
	    	let selectedValue = null;
				$("#streaming-switch").change(function() {
			    if ($(this).prop("checked") == true) {
			      $.getJSON('/start');
			      $("#video-frame").attr("src", "/video");
			    }
			    else {
			      $.getJSON('/stop');
			      $("#video-frame").attr("src", "");
			    }
				});

				$("#direction-switch").change(function() {
		      $.getJSON('/direccion');
				});

		    $('a#cambio-modo').bind('click', function() {
		    	const modo = $(this)[0].name
		      $.getJSON('/modo/' + modo);
		    });

				$('#velocidad-cinta').on('slide', function(slideEvt) {
					if (slideEvt.value !== selectedValue) {
						$.getJSON('/velocidad/' + slideEvt.value);
						selectedValue = slideEvt.value;
					}
					// $('#ex6SliderVal').text(slideEvt.value);
				});

				$('#velocidad-cinta').slider({
					formatter: function(value) {
						return 'Current value: ' + value;
					}
				});

		    $('#chk-show-id').change(function() {
					$.getJSON('/params/showID')
		    });
	    });
		</script>
		<style>
			html, body {
			  height: 100%;
			}

			.min-100 {
			    min-height: 100%;
			    height: 100%;
			}

      .full-width-tabs > ul.nav.nav-tabs {
          display: table;
          width: 100%;
          table-layout: fixed; /* To make all "columns" equal width regardless of content */
      }
      .full-width-tabs > ul.nav.nav-tabs > li {
          float: none;
          display: table-cell;
      }
      .full-width-tabs > ul.nav.nav-tabs > li > a {
          text-align: center;
      }

			#velocidad-slider .slider-selection {
				background: #BABABA;
			}
		</style>
	</head>
	<body>
		<div class="container-fluid min-100">
			<div class="row min-100">
				<div class="col p-3">
					<img id="video-frame" src="">
				</div>
				<div class="col min-100">
					<div class="row p-2 justify-content-md-center">
						<h4>Panel de control</h4>
					</div>
					<div class="row p-2">
						<div class="col">
							<div class="custom-control custom-switch">
							  <input type="checkbox" class="custom-control-input" id="streaming-switch">
							  <label class="custom-control-label" for="streaming-switch">Iniciar streaming</label>
							</div>
						</div>
						<div class="col">
							<input id="velocidad-cinta"
										 data-slider-id='velocidad-slider'
										 type="text"
										 data-slider-min="0"
										 data-slider-max="7"
										 data-slider-step="1"
										 data-slider-value="0"/>
						</div>
						<div class="col">
							<div class="custom-control custom-switch">
							  <input type="checkbox" class="custom-control-input" id="direction-switch">
							  <label class="custom-control-label" for="direction-switch">Cambiar direcci√≥n</label>
							</div>
						</div>
					</div>
					<div class="row">
						<hr>
					</div>
					<div class="row p-2 full-width-tabs">
						<ul class="nav nav-tabs mb-3" id="myTab" role="tablist">
						  <li class="nav-item">
						    <a class="nav-link active" id="cambio-modo" data-toggle="tab" name="forma" href="#forma" role="tab" aria-controls="home" aria-selected="true">Forma</a>
						  </li>
						  <li class="nav-item">
						    <a class="nav-link" id="cambio-modo" data-toggle="tab" name="color" href="#color" role="tab" aria-controls="profile" aria-selected="false">Color</a>
						  </li>
						</ul>
					</div>
					<div class="tab-content">
					  <div class="tab-pane fade show active" id="color" role="tabpanel">
					    <input type="checkbox" class="form-check-input" id="chk-show-id">
					    <label class="form-check-label" for="chk-show-id">Show ID</label>
					  </div>
					  <div class="tab-pane fade" id="forma" role="tabpanel">
					  	FORMA!
					  </div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>